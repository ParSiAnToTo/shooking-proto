# 장바구니 프로젝트

## 프로젝트 개요

- shooking 장바구니 페이지의 도입
- 기존 결제 모듈을 모달로 전환하여 장바구니 페이지와 연동
- 한 화면에서 상품가, 수량, 상품 합계, 배송비, 총 금액의 정확한 확인 및 무료 배송 정책 강조

### 주요 기능
- 장바구니 담기/수량 증감/삭제 및 합계 계산(상품 금액, 배송비, 총 금액)
- 10만원 이상 무료배송 자동 적용 및 강조 배지 표기
- 결제 플로우 모달화
- 상품 데이터 MSW 모킹 + Recoil 셀렉터 기반 금액 계산

### 참여인원
- 문서 작성자 : 주쿠나이
- 코드 구현 : 주쿠나이

### 테스트 URL
- https://parsiantoto.github.io/shooking-proto/

## 개발 환경

| 패키지명            | 버전      | 설명                     |
| --------------- | ------- | ---------------------- |
| `react`         | ^18.3.1 | 리액트 핵심 라이브러리           |
| `typescript`    | ^4.9.5  | TypeScript 지원          |
| `Tailwind CSS`  | ^3.4.17 | 유틸리티 기반 CSS 프레임워크  |
| `React Scripts` | 5.0.1   | Create React App 기본 빌드 설정    |
| `react-dom`     | ^18.3.1 | DOM 렌더링을 위한 리액트 패키지    |
| `react-icons`   | ^5.5.0  | 아이콘 사용을 위한 라이브러리       |
| `Storybook`     | ^9.0.18 | UI 컴포넌트 문서화 및 테스트 도구       |
| `msw`           | 최신     | API Mocking     |
| `recoil`        | &0.7.x  | 전역 상태 관리    |
| `gh-pages`      | ^6.3.0  | GitHub Pages 배포 도구     |

## 설치 및 실행 방법

### 의존성 설치
```
npm install
```
### 서버 실행
```
npm start
```
- 브라우저에서 `http://localhost:3000` 접속
- MSW dev/prod 상시 활성화
### 배포 설정
- Github Actions을 통한 `master` 브랜치 배포

## 컴포넌트 구조

### 장바구니 화면

`CartPage`
- 리스트 아이템: 썸네일, 브랜드/상품명, 단가(KRW 포맷), 수량 조절 (– / +), 삭제
- 합계 영역(하단 고정): 상품 금액 / 배송비 / 총 금액, 무료배송 배지(≥100,000원)
- 하단 버튼: 결제하기(장바구니 비었을 때 비활성화)

### 결제 모달

`PaymentsModal`
- 바텀시트 레이아웃, 오버레이/ESC 닫기
- 열림 시 배경 스크롤 락, 내부 콘텐츠 오버플로우

- `CardList` : 등록 카드 선택 / 카드 추가 -> CardForm 전환
- `CardForm` : 카드번호·유효기간·소유자·CVC·비밀번호 입력, 유효성 검증, 하단 제출 버튼

### 헤더

`Header`
- 상품 뷰: 장바구니 아이콘 + 수량 뱃지 (클릭 시 장바구니로 이동)
- 카트 뷰: ← 뒤로가기 (시안 반영)

## 테스트 방법

```
npm run storybook
```
- storybook 기반 테스트
    - 결제 버튼 활성화 확인
    - 수량 증가 체크
    - 총 수량 체크
    - 총 금액 렌더링 체크
    - 100,000원 이상일 경우 무료배송 문구 노출 및 배송비 0원 체크

## 유의사항 및 알려진 이슈
- MSW 스코프 : 접속 경로와 서비스 워커 경로 불일치로 인한 스코프 경고 해결
- Recoil - React 호환성 : React 18로 전환하여 안정성 상승
- Storybook mdx import 충돌 해결 실패 : 추후 해결 목표

## 추가 항목

- WORLD NEXA 개발팀 : 성능과 리팩터링, 스토리북을 이용한 TEST
- MSW / Recoil / React 공식 문서